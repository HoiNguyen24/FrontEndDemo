<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Nợ xấu</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.8/axios.min.js"
            integrity="sha512-PJa3oQSLWRB7wHZ7GQ/g+qyv6r4mbuhmiDb8BjSFZ8NZ2a42oTtAq5n0ucWAwcQDlikAtkub+tPVCw4np27WCg=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" type="text/css" href="conno.css">
</head>

<body style="
    font-family: Arial, sans-serif;
    background-image: url('long-short-la-gi.jpg'); /* Set the background image */
    background-size: cover; /* Scale the image to cover the entire page */
    background-repeat: no-repeat; /* Prevent the image from repeating */
    background-position: center; /* Center the image */
  ">
    <main class="table" id="customers_table">
        <section class="table__header">
            <h1>Bảng nợ</h1>
            <div class="input-group">
                <input type="search" placeholder="Tìm tên nợ...">
            </div>
            <div class="export__file">
                <label for="export-file" class="export__file-btn" title="Export File"></label>
                <input type="checkbox" id="export-file">
            </div>
        </section>
        <section class="table__body">
            <table id="debtor_table">

            </table>
        </section>
        <div class="back-button">
            <a href="#" class="btn"  id="backButton">Quay lại</a>
        </div>
    </main>
    <script src="script1.js"></script>
    <script>
        showDebtors()
        function showDebtors(){
            axios.get('http://localhost:8080/debtors/main').then((respone)=>{
                let data = respone.data;
                console.log(data);
                let html = `<thead>
                    <tr>
                        <th> Id </th>
                        <th> Tên </th>
                        <th> Địa chỉ </th>
                        <th> Số điện thoại </th>
                        <th> Tình trạng </th>
                        <th> Số tiền nợ </th>
                    </tr>
                </thead>
                <tbody >`;
                for(let i=0;i < data.length;i++){
                    html += `<tr>
                        <td> ${data[i].cccd}</td>
                        <td> ${data[i].name}</td>
                        <td> ${data[i].address} </td>
                        <td> ${data[i].phone}</td>
                        <td>
                            <p class="status datrano">${data[i].status}</p>
                        </td>
                        <td><button class="details-button">Chi tiết</button></td>
                    </tr>`;
                }
                html += `</tbody>`
                document.getElementById('debtor_table').innerHTML = html;
            })
        }
    </script>
</body>

</html>
